webpackJsonp([24],{1003:function(t,e,a){var n=a(1004);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(17)("36abc085",n,!1)},1004:function(t,e,a){e=t.exports=a(16)(void 0),e.push([t.i,"\n.top {\n  margin-top: 15px\n}\n.pages {\n  text-align: right;\n  margin-top: 10px;\n  padding-right: 10px;\n}\n.form {\n  margin-right: 20px;\n}\n.be-inline-block {\n  /*display: inline-block;*/\n  /*line-height: 50px;*/\n  vertical-align: middle;\n}\n.button-warp{\n /* margin-bottom: 15px;*/\n}\n.be-inline-block .btn{\n  margin-right: 15px;\n}\n.be-inline-block  .searth-input .ivu-input{\n  border-radius: 32px;\n}\n\n",""])},1005:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(87),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=a(86),s=a(315);e.default={name:"admin-lists",data:function(){var t=this;return{tableTotal:20,current:1,loading:!0,columns:[{title:"编号",key:"id",width:100},{title:"用户名",key:"username"},{title:"邮箱",key:"email"},{title:"手机",key:"mobile"},{title:"状态",key:"status"},{title:"备注",key:"remark"},{title:"操作",key:"action",width:300,align:"center",render:function(e,a){return e("div",[(0,s.editButton)(function(){t.showCreate(a.row.id)},e),e("Button",{props:{type:"primary",icon:"",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.showCreateGroup(a.row.id)}}},"编辑组"),(0,s.deleteButton)(function(){t.remove(a.index,a.row.id)},e)])}}],data:[],searchParam:{},formItem:{username:"",email:"",mobile:"",status:""},groupFlag:!1,groupData:[],groups:[],groupId:0,adminFlag:!1,adminTitle:"新增用户",admin:{username:"",password:"",nickname:"",email:"",mobile:"",remark:"",status:0}}},mounted:function(){this.getDataList()},methods:{getDataList:function(){var t=this;this.loading=!0;var e={page:this.current,username:this.searchParam.username,email:this.searchParam.email,mobile:this.searchParam.mobile,status:this.searchParam.status};(0,o.adminListsAction)(e).then(function(e){t.loading=!1,t.data=e.data.list,t.tableTotal=e.data.total,console.log(t.data)}).catch(function(t){console.log(t)})},cancel:function(){},changePage:function(t){console.log(t),this.current=t,this.data=this.getDataList()},search:function(){this.searchParam=this.formItem,this.current=1,this.getDataList()},updateGroup:function(){var t=this,e={id:this.groupId,groups:this.groups.join(",")};(0,o.saveAdminGroupAction)(e).then(function(e){console.log(e),t.$Message.info(e.data.msg)}).catch(function(t){console.log(t)})},showCreateGroup:function(t){var e=this;this.groupFlag=!0,this.groupId=t;var a={id:t};(0,o.adminGroupListAction)(a).then(function(t){e.groupData=t.data.list,e.groups=t.data.selectData}).catch(function(t){console.log(t)})},updateAdmin:function(){var t=this,e=this.admin;(0,o.adminSaveAdminAction)(e).then(function(e){console.log(e),t.$Message.info(e.data.msg),t.getDataList()}).catch(function(t){console.log(t)})},showCreate:function(t){var e=this;if(this.adminFlag=!0,t>0){this.adminTitle="更改";var a={id:t};(0,o.adminGetAction)(a).then(function(t){e.admin=(0,i.default)({},e.group,{id:t.data.info.id,username:t.data.info.username,password:"",nickname:t.data.info.nickname,email:t.data.info.email,mobile:t.data.info.mobile,remark:t.data.info.remark,status:t.data.info.status})}).catch(function(t){console.log(t)})}else this.title="新增",this.admin={}},remove:function(t,e){var a=this,n={id:e};(0,o.adminDeleteAction)(n).then(function(e){a.$Message.info(e.data.msg),a.data.splice(t,1)}).catch(function(t){this.$Message.info("删除失败")})}}}},1006:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{span:"24"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"pinpoint"}}),t._v("\n                管理员列表\n          ")],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"16"}},[a("Row",{staticStyle:{"margin-bottom":"15px"},attrs:{justify:"center",align:"bottom"}},[a("Col",{attrs:{span:"3"}},[a("Button",{staticClass:"btn",attrs:{type:"primary",shape:"circle",icon:"plus-round"},on:{click:function(e){t.showCreate()}}},[t._v("新增")])],1)],1)],1)],1),t._v(" "),a("Row",[a("Col",{staticClass:"main-inner-content",attrs:{span:"24"}},[a("Table",{attrs:{stripe:"",columns:t.columns,data:t.data}})],1)],1),t._v(" "),a("Row",[a("Col",{staticClass:"pages",attrs:{span:"24"}},[a("Page",{attrs:{total:t.tableTotal,"page-size":20,current:1,"show-elevator":""},on:{"on-change":t.changePage}})],1)],1),t._v(" "),a("Modal",{attrs:{title:"编辑组"},on:{"on-ok":t.updateGroup,"on-cancel":t.cancel},model:{value:t.groupFlag,callback:function(e){t.groupFlag=e},expression:"groupFlag"}},[a("Form",{ref:"roleId",staticClass:"form",attrs:{"label-width":80}},[a("FormItem",{attrs:{label:"角色"}},[a("CheckboxGroup",{model:{value:t.groups,callback:function(e){t.groups=e},expression:"groups"}},t._l(t.groupData,function(e){return a("Checkbox",{key:e.id,attrs:{label:e.id}},[t._v("\n                          "+t._s(e.title)+"\n                        ")])}))],1)],1)],1),t._v(" "),a("Modal",{attrs:{title:t.adminTitle},on:{"on-ok":t.updateAdmin,"on-cancel":t.cancel},model:{value:t.adminFlag,callback:function(e){t.adminFlag=e},expression:"adminFlag"}},[a("Form",{ref:"admin",staticClass:"form",attrs:{model:t.admin,"label-width":80}},[a("Form-item",{attrs:{label:"用户名",prop:"username"}},[a("Input",{attrs:{placeholder:"请输入用户名"},model:{value:t.admin.username,callback:function(e){t.$set(t.admin,"username",e)},expression:"admin.username"}})],1),t._v(" "),a("Form-item",{attrs:{label:"邮件",prop:"email"}},[a("Input",{attrs:{placeholder:"请输入英文名称"},model:{value:t.admin.email,callback:function(e){t.$set(t.admin,"email",e)},expression:"admin.email"}})],1),t._v(" "),a("Form-item",{attrs:{label:"手机",prop:"mobile"}},[a("Input",{attrs:{placeholder:"请输入手机号"},model:{value:t.admin.mobile,callback:function(e){t.$set(t.admin,"mobile",e)},expression:"admin.mobile"}})],1),t._v(" "),a("Form-item",{attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{placeholder:"请输入密码"},model:{value:t.admin.password,callback:function(e){t.$set(t.admin,"password",e)},expression:"admin.password"}})],1),t._v(" "),a("Form-item",{attrs:{label:"状态",prop:"type"}},[a("Select",{model:{value:t.admin.status,callback:function(e){t.$set(t.admin,"status",e)},expression:"admin.status"}},[a("Option",{attrs:{value:0}},[t._v("正常")]),t._v(" "),a("Option",{attrs:{value:1}},[t._v("冻结")])],1)],1),t._v(" "),a("Form-item",{attrs:{label:"备注",prop:"remark"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入备注"},model:{value:t.admin.remark,callback:function(e){t.$set(t.admin,"remark",e)},expression:"admin.remark"}})],1)],1)],1)],1)],1)],1)},i=[];n._withStripped=!0;var o={render:n,staticRenderFns:i};e.default=o},292:function(t,e,a){"use strict";function n(t){l||a(1003)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(1005),o=a.n(i),s=a(1006),r=a.n(s),l=!1,c=a(1),u=n,m=c(o.a,r.a,!1,u,null,null);m.options.__file="src\\views\\auth\\AdminLists.vue",m.esModule&&Object.keys(m.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.default=m.exports},315:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.deleteButton=function(t,e){return e("Poptip",{props:{confirm:!0,title:"您确定要删除这条数据吗?",transfer:!0},on:{"on-ok":function(){t()}}},[e("Button",{style:{margin:"0 5px"},props:{type:"error",placement:"top",size:"small",icon:"trash-a"}},"删除")])},e.detailsButton=function(t,e){return e("Button",{props:{type:"primary",icon:"ios-eye-outline",size:"small"},style:{marginRight:"5px"},on:{click:function(){t()}}},"查看")},e.editButton=function(t,e){return e("Button",{props:{type:"primary",icon:"edit",size:"small"},style:{marginRight:"5px"},on:{click:function(){t()}}},"编辑")}}});